<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">

    <!--JQuery Modal-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

    <script src="scripts/formhandler.js"></script>

    <title>My test page</title>
  </head>
  <body>
    <form data-payment-form="form">
        <h1>Payment form</h1>
        <p>Required fields are followed by <strong><abbr title="required">*</abbr></strong>.</p>

        <section>
            <h2>Contact information</h2>
            <fieldset>
              <legend>Title</legend>
              <ul>
                  <li>
                    <label for="title_1">
                      <input type="radio" id="title_1" name="title" value="K" >
                      King
                    </label>
                  </li>
                  <li>
                    <label for="title_2">
                      <input type="radio" id="title_2" name="title" value="Q">
                      Queen
                    </label>
                  </li>
                  <li> 
                    <label for="title_3"> 
                      <input type="radio" id="title_3" name="title" value="J">
                      Joker 
                    </label> 
                  </li>
              </ul>
            </fieldset>
            <p>
              <label for="name">
                <span>Name: </span>
                <strong><abbr title="required">*</abbr></strong>
              </label>
              <input type="text" id="name" name="username">
            </p>
            <p>
              <label for="mail">
                <span>E-mail: </span>
                <strong><abbr title="required">*</abbr></strong>
              </label>
              <input type="email" id="mail" name="usermail">
            </p>
            <p>
              <label for="pwd">
                <span>Password: </span>
                <strong><abbr title="required">*</abbr></strong>
              </label>
              <input type="password" id="pwd" name="password">
            </p>
        </section>

        <section>
            <h2>Payment information</h2>
            <p>
              <label for="card">
                <span>Card type:</span>
              </label>
              <select id="card" name="usercard">
                <option value="visa">Visa</option>
                <option value="mc">Mastercard</option>
                <option value="amex">American Express</option>
              </select>
            </p>
            <p>
              <label for="number">
                <span>Card number:</span>
                <strong><abbr title="required">*</abbr></strong>
              </label>
              <input type="tel" id="number" name="cardnumber">
            </p>
            <p>
              <label for="date">
                <span>Expiration date:</span>
                <strong><abbr title="required">*</abbr></strong>
                <em>formatted as mm/dd/yyyy</em>
              </label>
              <input type="date" id="date" name="expiration">
            </p>
        </section>

        <p> <button type="submit">Validate the payment</button> </p>

        <!-- Modal HTML embedded directly into document -->
        <div id="ex1" class="modal">
            <p data-modal-greeter="greeter">Thank you for your payment,</p>
            <a href="#" rel="modal:close">Close</a>
        </div>
    </form>
  </body>

  <script>
        var FormHandler = App.FormHandler;
        var formHandler = new FormHandler('[data-payment-form="form"]');
        formHandler.addSubmitHandler(function (data) {
            var title;
            if (data.title === "K") title = "King";
            else if (data.title === "Q") title = "Queen";
            else if (data.title === "J") title = "Joker";

            $('[class="modal"]').modal();
            $('[data-modal-greeter="greeter"]').text("Thank you for your payment, " + title + " " + data.username + ".");
        }.bind(formHandler));
  </script>
</html>